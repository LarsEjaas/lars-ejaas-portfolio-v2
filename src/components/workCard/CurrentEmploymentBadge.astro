---
import { useTranslations, type Language } from '@i18n/utils';
import styles from './currentEmploymentBadge.module.css';

type Props = {
  lang: Language;
};

const { lang } = Astro.props;

const t = useTranslations(lang, 'navigation');
---

<svg id="currentJobBadge" viewBox="0 0 200 200" preserveAspectRatio="none">
  <defs>
    <linearGradient id="ellipseGradient" x1=".5" x2=".5" y2="1">
      <stop offset=".5" stop-color="var(--gradient-tone-100)"></stop>
      <stop offset=".8" stop-color="var(--gradient-tone-400)"></stop>
      <stop offset="1" stop-color="var(--gradient-tone-500)"></stop>
    </linearGradient>
    <mask id="textMask">
      <rect x="0" y="0" width="100%" height="100%" fill="white"></rect>
      <path
        id="textPath"
        d="M200,0 
 m-180,0 
 a180,180 0 1,0 360,0 
 a180,180 0 1,0 -360,0"
        fill="none"></path>
      <text>
        <textpath
          alignment-baseline="baseline"
          xlink:href="#textPath"
          startOffset={lang === 'en' ? '42' : '20'}
          method="stretch"
          class={styles.badgeText}
        >
          {t('current_job')}
        </textpath>
      </text>
    </mask>
  </defs>
  <ellipse
    cx="200"
    cy="0"
    rx="200"
    ry="200"
    fill="url(#ellipseGradient)"
    mask="url(#textMask)"></ellipse>
</svg>
